<!DOCTYPE html>
<html lang="en">
<head>
    <title>Nuri's Moving Solution</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.2.0/dist/aframe-extras.min.js"></script>
</head>
<body>
    <script>
        function calcAngle(from, to) {
            let a = to[0] - from[0];
            let b = to[2] - from[2];

            let theta = Math.tan(a / b);
            console.log(theta)
            
            return (`0 ${theta} 0`);
        }
    </script>
    <a-scene>
        <a-assets>
        </a-assets>
            <a-entity
                id="GIRAFFE"
                gltf-model="scene.glb"
                position="5 0 0"
                animation__0="
                    property: position;
                    from: 0 0 0;
                    to: 0 0 0;
                    dur: 0;
                "
                animation__1a="
                    startEvents: animationcomplete__0, animationcomplete__1d;
                    property: position;
                    from: 0 0 0;
                    to: 10 0 5;
                    autoplay: true;
                    dur: 5000;
                "
                animation__1b="
                    startEvents: animationcomplete__1a;
                    property: rotation;
                    from: 0 0 0;
                    to: 0 80 0;
                    autoplay: false;
                    dur: 2000
                "
                animation__1c="
                    startEvents: animationcomplete__1b;
                    property: position;
                    from: 10 0 5;
                    to: 0 0 0;
                    autoplay: false;
                    dur: 2000
                "
                animation__1d="
                    startEvents: animationcomplete__1b;
                    property: rotation;
                    from: 0 90 0;
                    to: 0 0 0;
                    autoplay: false;
                    dur: 2000
                "
            >
            </a-entity>
            
        <a-box position="5 0 5" color="blue"></a-box>
    </a-scene>

    <script>
        var el = document.querySelector('#GIRAFFE')

        // object
        let giraffeAnimation = {
            endDrinking: 'EndDrinking'
        }

        function animationCorresponder(event) {
            switch(event.detail.name) {
                case "animation__1a":
                    el.setAttribute('animation-mixer', {'clip': 'loopRun'});
                    break;
                case "animation__1b":
                    el.setAttribute('animation-mixer', {'clip': 'EndDrinking'});
                    break;
                case "animation__1c":
                    el.setAttribute('animation-mixer', {'clip': 'loopRun'});
                    break;
                case "animation__1d":
                    el.setAttribute('animation-mixer', {'clip': 'EndDrinking'});
                    break;
                default:
                    break;
            }
        }

        el.addEventListener('animationbegin', function (e) {
            console.log(e.detail.name);
        })

        el.addEventListener('animationbegin', animationCorresponder)
    </script>
</body>
</html>